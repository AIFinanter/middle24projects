{
    "system_prompt": "我希望你扮演电影聊天机器人。你可以通过工具对用户关于电影的请求进行回复。你拥有的工具包括image captioning、video Grounding、video narrating、visual question asnwering模型。你拥有的已知信息包括电影和每个场景中有哪些演员和角色的信息。你还拥有使用搜索引擎查询用户的请求的结果。对于用户的请求，你首先需要确定是否需要借助工具或已知信息进行回复。然后，你可以调用工具或查询已知信息。最后，你需要根据工具或已知信息及搜索引擎返回的结果，总结对用户请求的回复。",
    "decision_making": "###\n需要调用工具或查询已知信息的用户请求包括以下几种：\n1.对电影场景进行描述\n2.询问与电影参加视觉内容有关的问题\n3.描述电影情节\n4.查询特定内容在电影中出现的时间\n5.查询与电影演员、任务有关的信息\n6.查询与电影有关的信息，包括电影介绍、名称、发行时间、标签、地区等。\n请判断你是否需要借助工具或已知信息进行回复。如果你不需要借助工具或已知信息进行回复，输出\"no\"。如果你需要借助工具或已知信息进行回复，输出\"yes\"。输出必须是\"yes\"或\"no\"。用户的请求以该形式输入： \"发送请求的时间戳: 请求\"。\n###\n这是用户的请求： ",
    "text_inference": "###\n根据上下文和聊天历史回复用户的请求。用户的请求以该形式输入： \"发送请求的时间戳: 请求\"。\n###\n这是用户的请求： ",
    "search_result_summarization": "###\n从搜索结果中提取并总结问题的答案，答案应该从搜索结果中得出。\n搜索结果格式如下:\n{'网站名称': '网站内容片段'}\n网站内容片段往往代表该网站中与问题最相关的部分。\n###\n问题： User_Input \n搜索结果:  Research_Result \n答案: ",
    "question_retrieval": "###\n判断以下问题中，哪个问题与用户提出的问题在语义上最接近。选择与用户的问题语义最接近的一个问题，输出其序号。如果没有与用户的问题语义接近的问题，输出序号\"0\"。\n###\n问题列表：  Questions \n 用户提出的问题： User_Input \n语义最接近的问题的序号： ",
    "merge_search_retrieval_result": "###\n根据问题、搜索结果和问题数据库检索结果，查找相关信息，总结问题的回答。搜索结果可能含有与问题无关的信息，你应当逐步找到答案。问题数据库检索结果包含检索得到的与用户的问题语义相近的问题和它的答案，如果该问题和用户的问题相似，该答案比搜索引擎结果更加可靠。如果两个结果均不含有答案，根据你的知识储备提供答案。输出答案，并给出支持该答案的证据。\n###\n问题： User_Input \n搜索结果:  Search_Result \n问题数据库检索结果： QA_result \n答案:",
    "time_parsing": "###\n根据用户的请求、发送请求的时间戳和需要调用的模型，你需要确定用户请求涉及的时间段或时间点，并使用以下格式回复：{\"开始\": \"时间戳\", \"结束\": \"时间戳\"}。你应该根据上下文和聊天历史确定时间段或时间戳。要调用的模型是{{ Selected_Modle }}。该模型的描述是{{ Model_Description }}。如果用户的请求涉及时间段，则\"开始\"时间戳应该早于\"结束\"时间戳。如果用户的请求涉及特定时间点，则\"开始\"和\"结束\"时间戳相同。如果用户的请求与电影中的特定时间段无关，则输出发送请求的时间戳。\n以下是一些参考示例：\n1. 用户发送请求的时间戳是\"00:30:01\"，请求是\"过去5分钟发生了什么？\"。要调用的模型是{{ video-narrating }}。该模型的描述是{{ 它回答关于时间段的问题。 }}。确定的时间段或时间戳将是：{\"开始\": \"00:25:01\"，\"结束\": \"00:30:01\"}}。\n2. 用户请求的时间戳是\"00:30:01\"，请求是\"当前场景中正在发生什么？\"。要调用的模型是{{ Salesforce/blip-image-captioning-base }}。该模型的描述是{{ 它回答关于特定时间点的问题。 }}。确定的时间段或时间戳将是：{\"开始\": \"00:30:01\"，\"结束\": \"00:30:01\"}。\n如果请求没有涉及任何时间段或时间点，请将发送请求的时间戳作为回复输出。请注意，你只能根据发送请求的时间戳和请求确定时间段。你的任务是确定时间段，不需要回应请求。用户的请求将以以下格式输入：\"\"发送请求的时间戳：请求\"。你的回复只能包含格式 {\"开始\": \"时间戳\"，\"结束\": \"时间戳\"}。不要输出除了格式以外的内容。不要解释你输出的逻辑与理由。\n###\n以下是用户的请求： ",
    "tool_planning": "###\n根据用户的请求和发送请求的时间戳，你需要生成一系列步骤来回复用户的请求。你应该从工具列表中选择合适的工具，并按正确的顺序调用它们。你应该输出所有用于回复请求的工具的工具名称和步骤序号。输出必须采用严格的JSON格式：[{\"工具名称\": \"工具名称\", \"理由\": \"你选择该工具的详细理由\", \"步骤序号\": \"工具被调用的顺序\"}]。\"步骤序号\"从\"1\"开始计数。如果一个工具应在另一个工具之后被调用，那么该工具的步骤序号应该大于另一个工具的步骤序号。如果两个工具可以同时调用，那么这两个工具的步骤序号应该是相同的。为了回答用户的请求，一个工具可能需要被多次调用。\n以下是供你选择的工具列表，请从中选择工具：\n",
    "tool_list": "1. {\"工具名称\": \"Image Captioning Model\", \"描述\": \"这是一个图像描述模型。它可以用自然语言描述图像或场景。它可以回答类似于'画面里有什么？'或'描述场景'等问题。\"}\n2. {\"工具名称\": \"Visual Question Answering Model\", \"描述\": \"这是一个视觉问答模型。它使用视觉信息来回答用户的问题。它可以回答与场景及画面有关的问题。它可以回答例如'画面中有多少人？'或'马冬梅的衣服是什么颜色？'的问题。\"}\n3. {\"工具名称\": \"Video Captioning Model\", \"描述\": \"这是一个视频描述模型。它可以为视频片段生成笼统的视觉描述。它可以回答类似于'过去一分钟画面中有什么？'或'描述过去3分钟内的场景'等问题。\"}\n4. {\"工具名称\": \"Video Narrating Model\", \"描述\": \"这是一个视频情节叙述模型。它可以描述视频中某段时间内发生的情节。它可以回答类似于'上一分钟发生了什么？'或'描述过去3分钟的情节'等问题。\"}\n5. {\"工具名称\": \"Video Grounding Model\", \"描述\": \"这是一个视频定位模型。它可以根据对情节的描述确定视频中与之对应的时间片段位置。它可以回答与发生时间有关的问题，例如'夏洛什么时候在弹吉他？'或'马冬梅什么时候在捧花？'。\"}\n6. {\"工具名称\": \"Actor or Role Recognition\", \"描述\": \"这个工具可以识别场景中的电影角色或演员。它可以回答类似于'场景中的角色/演员是谁？'的问题。'\"}\n7. {\"工具名称\": \"Movie Information\", \"描述\": \"这个工具可以回答关于电影的上映时间、标签或地区的问题，并且可以提供电影的介绍。它可以回答类似于'介绍这部电影'或'电影是什么时候发布的？'等问题。\"}\n8. {\"工具名称\": \"Search Engine\", \"描述\": \"这个工具可以通过搜索引擎，对指定内容进行搜索，并返回搜索结果。\"}\n用户的请求将按以下格式输入：\"发送请求的时间戳：请求\"。你的回复应该只包含格式 [{\"工具名称\": \"工具名称\", \"理由\": \"你选择该工具的详细理由\", \"步骤序号\": \"工具被调用的顺序\"}]。\n以下是一些参考示例：\n用户的请求： 画面中的演员是谁？她有哪些作品？ \n输出： [{\"工具名称\": \"Actor or Role Recognition\", \"理由\": \"用户请求识别画面中的演员。\", \"步骤序号\": \"1\"},{\"工具名称\": \"Search Engine\", \"理由\": \"用户请求搜索画面中演员的作品。\", \"步骤序号\": \"2\"}]###\n用户的请求： ",
    "search_content_decision": "###\n你需要根据过往聊天历史和已经得到的结果，确定为了回答用户的请求，需要搜索引擎搜索的内容。输出内容的形式为短句或关键词。\n以下是一些示例：\n1. 已经得到的结果： [{'结果描述': '返回结果为当前场景中的人物及其演员', '返回结果': [{'actor': '马丽', 'role': '马冬梅'}, {'actor': '艾伦', 'role': '大春'}]}] 。\n用户的请求： 画面中的演员还演过什么电影？ \n输出：马丽 艾伦 电影\n2. 已经得到的结果： [{'结果描述': '返回结果为一个答案列表，格式为\"[{'score': 置信度, 'answer': 答案}]\"，其中列出了每个答案及其置信度，置信度越高，代表该答案越有可能是正确答案', '返回结果': [{'score': 0.99, 'answer': daisies},{'score': 0.99, 'answer': sunflowers}]}] \n用户的请求： 画面中的花应该怎么种植？ \n输出：种植雏菊 向日葵\n###\n已经得到的结果： Result \n用户的请求： User_Input \n输出：",
    "tool_description": {
        "Image Captioning Model": "返回结果为对画面的描述",
        "Visual Question Answering Model": "返回结果为一个答案列表，格式为\"[{'score': 置信度, 'answer': 答案}]\"，其中列出了每个答案及其置信度，置信度越高，代表该答案越有可能是正确答案",
        "Video Captioning Model": "返回结果为对视频片段的描述",
        "Video Narrating Model": "返回结果为对视频片段情节的描述，重写该返回结果，使其变得更流畅",
        "Video Grounding Model": "返回结果为用户的请求在电影中所对应场景的时间范围，格式为\"(开始时间, 结束时间)\"",
        "Actor or Role Recognition": "返回结果为当前场景中的演员及其角色",
        "Movie Information": "返回结果为电影的信息",
        "Search Result": "返回结果为直接使用搜索引擎搜索用户请求得到的结果",
        "Search Engine": "返回结果为使用搜索引擎，根据过往工具结果，进行关键词搜索得到的结果"
    },
    "model_list": [
        "Image Captioning Model",
        "Visual Question Answering Model",
        "Video Captioning Model",
        "Video Narrating Model",
        "Video Grounding Model",
        "Actor or Role Recognition",
        "Movie Information",
        "Search Engine"
    ],
    "time_model_list": [
        "Image Captioning Model",
        "Visual Question Answering Model",
        "Video Captioning Model",
        "Video Narrating Model",
        "Actor or Role Recognition"
    ],
    "time_model_description": [
        "它回答关于特定时间点的问题。",
        "它回答关于特定时间点的问题。",
        "它回答关于时间段的问题。",
        "它回答关于时间段的问题。",
        "它回答关于特定时间点的问题。"
    ],
    "transfer_dict": {
        "Image Captioning Model": "Salesforce/blip-image-captioning-base",
        "Visual Question Answering Model": "dandelin/vilt-b32-finetuned-vqa",
        "Video Captioning Model": "SwinBERT-video-captioning",
        "Video Narrating Model": "video-narrating",
        "Video Grounding Model": "video-grounding",
        "Actor or Role Recognition": "actor-info",
        "Movie Information": "movie-intro"
    },
    "answer_summarization": "###\n你需要根据调用工具结果，输出答案，回复用户的请求。调用工具结果中可能包含由你选择使用的工具生成的多个结果，也可能包含与用户的请求无关的信息，你需要根据用户的请求进行筛选和总结。使用3-5句话来描述你的回答。\n###\n用户的请求： User_Input \n调用工具结果： Result \n答案：",
    "translation_ch_to_en": "你需要将这个句子从中文翻译成英文。请保持句子的原始格式。\n这是需要翻译的句子：",
    "translation_en_to_ch": "你需要将这个句子从英文翻译成中文。请保持句子的原始格式。\n这是需要翻译的句子：",
    "question_to_query": "你需要将问题转换为陈述句。例如，对于问题\"夏洛什么时候在弹吉他\"，你应该输出\"夏洛在弹吉他。\"\n不要输出与陈述句无关的内容。不要解释你输出的逻辑与理由。这是需要转换的问题： ",
    "judge_answer": "###\n根据用户的请求，你需要判断给定的回复是否可以回应用户的请求。如果回复能够回应用户的请求，输出\"yes\"；否则，输出\"no\"并说明原因。逐步解释你输出的逻辑与理由。输出必须包含\"yes\"或\"no\"。\n###\n用户的请求是： User_Input \n回复是： Response \n判断："
}